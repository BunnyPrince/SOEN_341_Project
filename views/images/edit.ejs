<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<link href="/style/basic.css" rel="stylesheet" type="text/css">
<link href="/style/custom.css" rel="stylesheet" type="text/css">

<%- include('../partials/header')  %>
<main>
    <h1>Edit page</h1>

    <!--<form action="/images/<%=image._id%>?_method=PUT" method="POST">
        <div>
            <label for="image">Image URL</label>
            <input type="text" id="image" name="image[image]" value="<%=image.url %>">
        </div>
        <div>
            <label for="caption">Caption</label>
            <input type="text" id="caption" name="image[caption]" value="<%= image.caption%>">
        </div>
        <button>Update Image</button>
    </form>-->
    <form action="/images/<%=image._id%>?_method=PUT" method="POST" enctype="multipart/form-data" class="clearfix">
        <img id="file" src="<%=image.url %>" height="200px">
        <br>
        <input type="file" name="image" id="file-ip-1" accept="image/*" onchange="showPreviewOne(event);">

        <label for="caption" class="card-label">Add Caption</label>
        <input class="card-input" type="text" value="<%= image.caption%>" id="caption" name="caption">

        <div>
            <button class="btn btn-button">Edit post</button>
        </div>
    </form>
    <button onclick="location.href ='/images';" class="btn btn-button">Cancel</button>

</main>

<%- include('../partials/footer') %>


<script>
     function showPreviewOne(event){
      if(event.target.files.length > 0){
        let src = URL.createObjectURL(event.target.files[0]);
        let preview = document.getElementById("file");
        preview.src = src;
        preview.style.display = "block";
        preview.style.height = '200px'
      }
    }
    function myImgRemoveFunctionOne() {
      document.getElementById("file").src = "https://i.ibb.co/ZVFsg37/default.png";
    }
</script>
